# 카운팅 정렬 (Counting Sort)

> 계수정렬
>
> 안정정렬

- O(n)의 시간 복잡도를 가짐 최악의 경우 O(n^2)
  - 고로, 퀵 정렬이 더 빠름
- 빠를것 같지만 숫자 크기에 매우 큰 영향을 받으므로 결국 비효율적



### 방법

1. 각 숫자가 몇번 등장하는지 센다.

   - 정렬해야할 배열

     A : 5, 5, 3, 4, 5, 1, 0, 4, 1, 3, 0, 2, 4, 2, 3, 0

   - 정렬된 배열

     B : 0, 0, 0, 1, 1, 2, 2, 3, 3, 3, 4, 4, 4, 5, 5, 5

2. 각 숫자의 등장 횟수를 누적합으로 변경한다.

   | 숫자     | 0    | 1    | 2    | 3    | 4    |5|
   | -------- | ---- | ---- | ---- | ---- | ---- | ---- |
   | 등장횟수 | 3    | 2    | 2    | 3    | 3    |3|

   | 숫자     | 0    | 1          | 2          | 3           | 4            |5|
   | -------- | ---- | ---------- | ---------- | ----------- | ------------ | ------------ |
   | 등장횟수 | **3**(3) | **5**(3+2) | **7**(5+2) | **10**(7+3) | **13**(10+3) |**16**(13+3)|

   - 각 숫자들의 등장횟수에 이전에 등장한 숫자의 합을 더함

3. 정렬할 배열A를 뒤에서 앞으로 순회하면서 정렬된 배열B에 넣어줌 (누적합 빼줌. 나머지 반복)
   
   수열 A 
   | 인덱스 | 1   | 2   | 3   | 4   | 5   |6|7|8|9|10|11|12|13|14|15|16|
   | -------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
   | 숫자 | 5   | 5    | 3    | 4    | 5    |1|0|4|1|3|0|2|4|2|3|0|
   
   누적합
   | 숫자     | 0    | 1          | 2          | 3           | 4            |5|
   | -------- | ---- | ---------- | ---------- | ----------- | ------------ | ------------ |
   | 등장횟수 | **3**(3) | **5**(3+2) | **7**(5+2) | **10**(7+3) | **13**(10+3) |**16**(13+3)|

   수열 B 

	| 인덱스 | 1   | 2   | 3   | 4   | 5   |6|7|8|9|10|11|12|13|14|15|16|
	| -------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
	| 숫자 |    |     | 0   |     |     ||||||||||||
	
	=> 배열할 수열의 거꾸로부터 시작 하면 16번째 자리에 있는 0을 넣기 위해서 누적합에있는 0의 등장횟수를 본다. 
	
	=> 그 횟수의 인덱스에다가 0을 넣고 누적합의 수를 1 빼준다.
   
   
   
   누적합
   
   | 숫자     | 0    | 1          | 2          | 3           | 4            |5|
   | -------- | ---- | ---------- | ---------- | ----------- | ------------ | ------------ |
   | 등장횟수 | **2 = 3 -1** | **5**(3+2) | **7**(5+2) | **10**(7+3) | **13**(10+3) |**16**(13+3)|

- 위와 같은 것을 계속해서 반복한다.

  



### 참고자료

> https://bowbowbow.tistory.com/8