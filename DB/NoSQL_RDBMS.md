# NoSQL vs RDBMS

> http://blog.knowgari.com/db%EC%B0%A8%EC%9D%B4/

> https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Database/SQL%EA%B3%BC%20NOSQL%EC%9D%98%20%EC%B0%A8%EC%9D%B4.md#nosql-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%82%AC%EC%9A%A9%EC%9D%B4-%EB%8D%94-%EC%A2%8B%EC%9D%84-%EB%95%8C

> https://siyoon210.tistory.com/130

> https://sjh836.tistory.com/97

> http://blog.naver.com/PostView.nhn?blogId=naverdev&logNo=120116323974&parentCategoryNo=8&viewDate=&currentPage=1&listtype=0



## 확장

![scaleImage](https://miro.medium.com/max/1400/0*cq834DZQYUvtlWh7.png)

- 수직적 확장 (Scale Up)
  - 단순히 데이터베이스 **서버의 성능을 향상**시키는 것
- 수평적 확장 (Scale out)
  - 데이터가 분산 되는 것 의미
  - 하나의 데이터베이스에서 동작하지만 여러 호스트에서 작동



## RDBMS

### 장점

- 명확하게 정의된 스키마
  - **데이터 무결성 보장**
- 관계는 각 데이터를 **중복없이 한번만 저장**

### 단점

- 덜 유연함
  - 사전에 스키마를 계획하고 알려야 함
  - 나중에 스키마를 수정하기 힘듬
- 관계를 맺고있어서 조인문이 많은 복잡한 쿼리가 만들어 질 수 있음
- **수직적 확장만 가능**
  - 대규모 배치를 처리하는데 비용이 많이 듬



### SQL 사용하는 경우

- 변경될 여지가 없고, 명확한 스키마를 사용하는 경우



## NOSQL

- 저장소를 손쉽게 동적으로 추가 가능
  - 데이터 처리를 하는 서버 애플리케이션의 숫자를 동작중에 늘리거나 줄일 수 있음
  - 대용량 데이터 처리 용이
- 저장소에 장애가 발생해도 전체 시스템에는 장애가 없어야 함
- 논리적으로 하나의 저장소 이면서 언제든지 수평 확장할 수 있음
- **거대한 Map** 으로 생각
  - Key와 Value를 가짐
- 저장소로는 메모리 혹인 디스크
  - 메모리
    - Memcached
  - 디스크
    - Cassandra
    - MongoDB
- 

### 장점

- **유연함**
  
  - 스키마 없음, 관계 없음
    - 설계 속도를 줄여 줌
    - RDBMS 테이블을 변경할 필요가 없음
  - join의 개념이 없음
    - 외래키를 사용하여 가져올 수 있지만 일반적인 형태는 아님
    - 대신, 컬렉션을 통해 데이터를 복제하여 각 컬렉션 일부분에 속하는 데이터를 정확하게 산출
      - 단, 데이터 중복의 문제 발생
  - 언제든지 저장된 데이터를 조정하고 새로운 필드 추가 가능
  
- **데이터를 어플리케이션이 원하는 형태로 저장 가능**
  
  - **데이터 읽어오는 속도 빨라짐**
  
- 대량의 데이터 입력시 편리함

  - 대용량 데이터 처리하기 용이

- **수평적 확장 (Scale out)**

  - **분산저장 가능**
  - 성능이 RDBMS에 비해 더 좋음

- **고가용성 (High Availability)**

  - 오랫동안 지속적으로 정상운영이 가능한 성질 뜻함
  - 절대 고장나지 않음을 뜻함
  - 예를 들면 서버 2개를 묶어서 사용하는것
    - 서버1개가 죽으면 바로 다른애가 수행

  

### 단점

- 데이터 중복을 계속 업데이트 해야 함
- 데이터가 중복 될 수 있으므로 수정 시 모든 컬렉션에서 수행해야 함
  - 예를 들어, A라는 컬렉션에서 업데이트 수행하고 B라는 컬렉션에서도 업데이트 수행해야 함





### NoSQL 사용하는 경우

- 정확한 데이터 구조를 알 수 없거나 변경/확장 될 수 있는 경우
- **읽기를 자주 하지만, 데이터 변경은 자주 없는 경우**
- 데이터를 수평으로 확장해야 하는 경우

