# TCP / IP

-  OSI7 레이어를 단축 시킨 모델
-  **각 네트워크와 하드웨어의 특성을 숨기고, 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰서 있는 의사소통 가능하게 해줌**

![osi7_2](https://media.vlpt.us/images/xldksps4/post/980fe5d0-fcfe-4395-9148-0a110475ba26/image.png)

- 총 4개의 계층으로 구성됨
  - Application Layer
    - Application + Presentation + Session
  - Transport Layer
  - Internet Layer
  - Network Access Layer
    - DataLink + Physical Layer
- 계층이 7개나 되기 때문에 지금은 다 사용하지 않고 TCP/IP Protocol을 주로 많이 사용함

### Network / Link 계층

- 물리 적인 영역의 표준화
- LAN, WAN 같은 네트워크 표준과 관련되 프로토콜 정의

### IP / Internet 계층

- **경로 검색 해주는 계층**
  - 라우팅
- **IP 주소 설정**
- **비연결지향적(Connectionless)**, **신뢰할 수 없음(Unreliable)**
  - **신뢰성, 흐름제어 없음 => TCP가 보완해줌**
- 데이터를 전송할때마다 거쳐야할 경로 선택해 줌
  - 경로가 일정하지 않음
- 문제 발생시 데이터가 손실되거나 오류가 발생하는 문제가 발생할 수 있음
  - 오류 발생에 대한 대비가 되어있지 않음
- 최상위 바이트를 먼저 보냄 (Big-endian)

### TCP/UDP / Transport 계층

- 데이터의 실제 송수신 담당
- TCP
  - 데이터 전송시 IP프로토콜 기반
  - **즉, 데이터가 없어지거나, 손상되거나, 순서가 바뀌는 일 없음**
  - 연결 기반
    - IP의 신뢰할 수 없는 문제를 TCP가 해결해줌
    - 데이터의 순서가 올바르게 전송 되었는지 확인해주며 대화를 주고 받음
      - **오류 없는 데이터 전송 보장**
    - 3 way hand shaking
  - 흐름 제어와 혼잡 제어 지원해서 **데이터 순서 보장**
    - 흐름 제어
      - 송신과 수신의 데이터 처리 속도 차이를 조절
    - 혼잡 제어
      - 네트워크 내의 패킷 수가 넘치지 않게 방지
  - 정확성 높은 전송을 하기 위해 사용
    - **단, 속도가 느림**
    - HTTP, E-MAIL, 파일 전송에 사용
  - **조각나지 않는 데이터 스트림**
    - 언제든 어떤 크기로든 전송 가능
- UDP
  - 간단함
  - 데이터 손실 가능성 있음
  - 실시간 응용 및 멀티캐스팅 가능
    - 빠른 요청과 응답이 필요한 실시간 응용에 적합
    - 여러 다수 지점에 전송 가능

### Application 계층

- 서버와 클라이언트를 만드는 과정에서 **프로그램 성격에 따라 송수신 약속이 정해짐**



### Multiplexing & Demultiplexing

- 네트워크 소켓
  - 프로세스 간 통신의 종착점
  - 컴퓨터간 통신의 대부분은 IP 기반
  - 네트워크 소켓의 대부분은 인터넷 소켓
  - 네트워크 통신을 위해서 송,수신 측에서 소켓을 생성하고 그 소켓을 통해 서로 데이터를 교환
- Multiplexing
  - sender
  - 다수의 소켓들로부터 추가정보를 얻어서 전송할 데이터의 **헤더에 해당정보를 추가**
- Demultiplexing
  - receiver
  - 수신된 데이터를 적절한 소켓으로 전달하기 위해 **헤더 정보 이용**
  - 하위 계층에서 상위 계층으로 올라갈때마다 **헤더가 작아지며** 데이터가 목적지에 도착함