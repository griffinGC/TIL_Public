# TCP 커넥션 관리

> 본 글은 아래 링크를 바탕으로 정리한 글입니다.
>
> > https://feel5ny.github.io/2019/09/04/HTTP_004_02/

### 커넥션 종류

- 병렬 커넥션
- 지속 커넥션
- 파이프라인 커넥션



## 병렬 커넥션

- HTTP는 클라이언트가 여러개의 커넥션을 맺음으로써 병렬적으로 HTTP 트랜잭션 처리 가능
- **페이지를 좀 더 빠르게 받을 수 있다는 장점 존재**
  - ex. html을 먼저 다운받고, 이미지는 병렬로 다운
- 병렬 커넥션이 **항상 빠르지는 않음**
  - 네트워크 대역폭이 좁다면, 대부분의 시간을 데이터 전송에만 사용
  - 다수의 커넥션은 많은 메모리를 사용 => 성능이슈 발생
  - 병렬 커넥션 허용하긴 하지만, 적은수의 병렬 커넥션만 허용
  - 서버는 특정 클라이언트와 과도한 수의 병렬 커넥션이 이뤄진다면, 임의로 그것을 끊을 수 있음
- 병렬 커넥션이 **더 빠르게 느껴질 수는 있음**
  - 실제로 더 빠르게 내려 받는 것은 아니지만, 병렬로 여러개의 객체가 다운을 받고 있기 때문에 사용자 입장에서는 좀 더 빨라보일 수 있음
  - 즉, 총 다운로드수는 길지만, 동시에 여러개가 로딩되는것을 보며 사람들은 더 빠르다고 느낄 수 있음



## 지속 커넥션 Persist

- site locality
  - 같은 서버에 계속해서 요청하는 것
- 지속 커넥션이란, 처리가 완료된 후에도 계속 연결된 상태로 있는 TCP 커넥션을 의미
- **HTTP/1.1**을 지원하는 기기는 처리가 완료된 후에도 TCP 커넥션을 유지하여 앞으로 있을 HTTP 요청에 재사용 가능
- 커넥션을 맺기위한 준비 작업에 따르는 시간 절약 가능
- TCP의 느린 시작으로 인한 지연 회피 가능